

<h1 mat-dialog-title>PRODUIT</h1>
<br>

<div mat-dialog-content>
        <form [formGroup] = "this.form" class="conteneur">
              <mat-form-field appearance ="outline">
                <mat-label>ID</mat-label>
                <input formControlName="Id" matInput placeholder="id">
              </mat-form-field>
              <mat-form-field appearance ="outline">
                <mat-label>Nom</mat-label>
                <input formControlName="Nom" matInput placeholder="nom" required>
                <mat-error *ngIf ="this.form.get('Nom').hasError('required')"> ce champ est obligatoire</mat-error>
              </mat-form-field>
              <mat-form-field appearance ="outline">
                <mat-label>Prix</mat-label>
                <input type ="number" formControlName="Prix" matInput placeholder="Prix">
              </mat-form-field>

              

              <!-- <mat-form-field appearance ="outline">
                <mat-label>Photo></mat-label>
                <input formControlName="Photo" matInput placeholder="Photo">
              </mat-form-field> -->

              <!-- <div *ngFor="let progressInfo of progressInfos">
                <span>{{ progressInfo.fileName }}</span>
                <mat-toolbar class="progress-bar">
                  <mat-progress-bar
                    color="accent"
                    [value]="progressInfo.value"
                  ></mat-progress-bar>
                  <span class="progress">{{ progressInfo.value }}%</span>
                </mat-toolbar>
              </div> -->
              
              <mat-form-field>
                <div>
                   <mat-toolbar>
                    <input matInput [value]="selectedFileNames.length ? selectedFileNames : 'Select Images'" />
              
                    <button
                      mat-flat-button
                      color="primary"
                      [disabled]="!selectedFiles"
                      (click)="uploadFiles()"
                    >
                      Upload
                    </button>
                  </mat-toolbar> 
              
                  <input
                    type="file"
                    id="photo"
                    name="photo"
                    accept="image/*" multiple 
                    (change)="selectFiles($event)"
                  />
                </div>
              </mat-form-field>
              
              <!-- <div>
                <img *ngFor='let preview of previews' [src]="preview" class="preview">
              </div> -->
              
              <div *ngIf="message.length" class="message">
                <ul *ngFor="let msg of message; let i = index">
                  <li>{{ msg }}</li>
                </ul>
              </div>
              
              <!-- <mat-card class="list-card">
                <mat-card-header>
                  <mat-card-title>List of Images</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <mat-list role="list">
                    <mat-list-item role="listitem" *ngFor="let image of imageInfos | async" class="list-item">
                      <p matLine><a href="{{ image.url }}">{{ image.name }}</a></p>
                      <img src="{{ image.url }}" alt="{{ image.name }}" height="50px"/>
                    </mat-list-item>
                  </mat-list>
                </mat-card-content>
              </mat-card>  -->

              <mat-form-field appearance ="outline">
                <mat-label>Nouveauté</mat-label>
                <input formControlName="Nouveaute" matInput placeholder="Nouveaute">
              </mat-form-field>
              <mat-form-field appearance ="outline">
                <mat-label>Catégorie</mat-label>
                  <mat-select formControlName="CategorieId">
                    <mat-option *ngFor="let categorie of Categories" [value]="categorie.id">
                      {{categorie.libelle}}
                    </mat-option>
                  </mat-select>
                <mat-error *ngIf ="this.form.get('CategorieId').hasError('required')"> ce champ est obligatoire</mat-error>
              </mat-form-field>
              <mat-form-field appearance ="outline">
                <mat-label>Marque</mat-label>
                <mat-select formControlName="MarqueId">
                  <mat-option *ngFor="let marque of Marques" [value]="marque.id">
                    {{marque.nom}}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf ="this.form.get('MarqueId').hasError('required')"> ce champ est obligatoire</mat-error>
              </mat-form-field>
              <mat-form-field appearance ="outline">
                <mat-label>Description</mat-label>
                <input formControlName="Description" matInput placeholder="description">
              </mat-form-field>

        </form>
  
</div>


<div mat-dialog-actions>
  <button mat-raised-button color="primary"  (click)="this.create()" [disabled] ="this.form.invalid">Enregistrer</button>
  <button mat-raised-button color="warn" (click) = "this.onClear()">Réinitialiser</button>
  <button mat-raised-button color = "accent" mat-dialog-close mat-dialog-close="true">Fermer</button>
</div>
    
    

<br>

